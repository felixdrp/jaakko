{"version":3,"sources":["websocket-message/websocket-simple.js"],"names":["WebSocketSimple","initialWebsocket","ws","data","message","readyState","console","log","send","code","accountCode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;IACqBA,e;AACnB,2BAAYC,gBAAZ,EAA8B;AAAA;;AAC5B,SAAKC,EAAL,GAAUD,gBAAV;AACA;AACD;;;;yBAEIE,I,EAAM;AACT,UAAIC,gBAAJ;;AAEA,UAAI,KAAKF,EAAL,CAAQG,UAAR,IAAsB,CAA1B,EAA6B;AAC3BC,gBAAQC,GAAR,CAAY,2BAAZ;AACA;AACD;;AAED,UAAK,QAAOJ,IAAP,uDAAOA,IAAP,OAAgB,QAArB,EAAgC;AAC9BC,kBAAU,yBAAeD,IAAf,CAAV;AACD,OAFD,MAEO;AACLC,kBAAUD,IAAV;AACD;AACD,WAAKD,EAAL,CAAQM,IAAR,CAAaJ,OAAb;AACD;;;sBAEeK,I,EAAM;AACpB,WAAKP,EAAL,CAAQQ,WAAR,GAAsBD,IAAtB;AACD,K;wBAEiB;AAChB,aAAO,KAAKP,EAAL,CAAQQ,WAAf;AACD;;;;;kBA5BkBV,e","file":"websocket-simple.js","sourcesContent":["// Facade object to use websocket\n// Check that we will send a string every time\nexport default class WebSocketSimple {\n  constructor(initialWebsocket) {\n    this.ws = initialWebsocket\n    // console.log('Initiated ')\n  }\n\n  send(data) {\n    let message\n\n    if (this.ws.readyState != 1) {\n      console.log('socket not ready to send.')\n      return\n    }\n\n    if ( typeof data === 'object' ) {\n      message = JSON.stringify(data)\n    } else {\n      message = data\n    }\n    this.ws.send(message)\n  }\n\n  set accountCode(code) {\n    this.ws.accountCode = code\n  }\n\n  get accountCode() {\n    return this.ws.accountCode\n  }\n}\n"]}