{"version":3,"sources":["components/admin/results/results-manager.js"],"names":["ResultsManager","state","_input","surveyxMonetaryTypeIndex","surveyxMonetaryTypeIndexType","accountsMonetary","props","storeSession","session","surveyPath","reduce","prev","element","index","type","push","map","surveyIndex","accounts","list","accountId","account","accountComponent","moneyData","taskNumber","total","email","firstName","surname","results","surveyInfo","filter","includes","surveyId","forEach","current","index2","data","surveyType","surveyData","marginLeft","rank","score","pay","mathScore","style","gray","color","paddingBottom","propTypes","contextTypes","muiTheme","object","isRequired"],"mappings":"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","file":"components/admin/results/results-manager.js","sourcesContent":["import React, { PropTypes, Component } from 'react'\n\n// groups\nimport {Card, CardActions, CardHeader, CardMedia, CardTitle, CardText} from 'material-ui/Card';\n// import FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Avatar from 'material-ui/Avatar';\n\nimport Class from 'material-ui/svg-icons/action/class';\nimport Language from 'material-ui/svg-icons/action/language';\nimport Group from 'material-ui/svg-icons/social/group';\nimport GroupAdd from 'material-ui/svg-icons/social/group-add';\nimport PersonOutline from 'material-ui/svg-icons/social/person-outline';\nimport DeveloperBoard from 'material-ui/svg-icons/hardware/developer-board';\n\n// Icons\n\nimport ShowChart from 'material-ui/svg-icons/editor/show-chart';\nimport LocalAtm from 'material-ui/svg-icons/maps/local-atm';\nimport Memory from 'material-ui/svg-icons/hardware/memory';\nimport ModeEdit from 'material-ui/svg-icons/editor/mode-edit';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport NavigationClose from 'material-ui/svg-icons/navigation/close';\n//\n// import GeneralInfoContainer from './general-info-container';\n// import SessionTrackerContainer from './session-tracker-container';\n\n\nimport {\n\n} from '../../../websocket-message/server-actions'\n\nclass ResultsManager extends Component {\n  static propTypes = {\n    // groups: PropTypes.object,\n    // unassignedAccounts: PropTypes.object,\n  };\n\n  static contextTypes = {\n    muiTheme: PropTypes.object.isRequired,\n  };\n\n  constructor() {\n    super()\n    this.state = {\n\n    };\n\n    // Used to store references.\n    this._input = {};\n  }\n\n  render() {\n    let surveyxMonetaryTypeIndex = []\n    let surveyxMonetaryTypeIndexType = []\n    let accountsMonetary = []\n\n    if ( this.props.storeSession && 'session' in this.props.storeSession ) {\n      surveyxMonetaryTypeIndex = this.props.storeSession.session.surveyPath.reduce(\n        (prev, element, index) => {\n          // The survey have a monetary value?\n          if (element.type == 'RESULTS' || element.type == 'MATH_RESULTS') {\n            prev.push( index )\n            return prev\n          }\n          return prev\n        },\n        []\n      )\n\n      surveyxMonetaryTypeIndexType = surveyxMonetaryTypeIndex.map( surveyIndex => this.props.storeSession.session.surveyPath[surveyIndex].type )\n\n      accountsMonetary = this.props.storeSession.accounts.list.reduce(\n        ( prev, accountId, index ) => {\n          let account = this.props.storeSession.accounts[ accountId ]\n          let accountComponent = []\n          let moneyData = []\n          let taskNumber = 0\n          let total = 0\n\n          accountComponent.push( <span key={ account.email + 0 }> {account.firstName} {account.surname} {account.email} </span> )\n\n          moneyData = this.props.storeSession.results.surveyInfo.filter(\n            (element) => element.accountId == accountId && surveyxMonetaryTypeIndex.includes( element.surveyId )\n          )\n\n          moneyData.forEach(\n            (current, index2) => {\n              let data\n              if ( current.surveyType == 'RESULTS' ) {\n                data = current.surveyData.data[\"0\"]\n                accountComponent.push(\n                  <span\n                    key={ account.email + index2 + 1 }\n                    style={{\n                      marginLeft: 10,\n                    }}\n                  >\n                    Task Round {taskNumber} Rank {data.rank} Score {data.score} Pay {data.pay}\n                  </span>\n                )\n                taskNumber += 1\n                total += data.pay\n              } else {\n                data = current.surveyData.data[\"0\"]\n                accountComponent.push(\n                  <span\n                    key={ account.email + index2 + 1 }\n                    style={{\n                      marginLeft: 10,\n                    }}\n                  >\n                    Math Round Rank {data.rank} Score {data.mathScore} Pay {data.pay}\n                    <span\n                      style={{\n                        marginLeft: 10,\n                      }}\n                    >\n                      Total pay: {total + data.pay}\n                    </span>\n                  </span>\n                )\n              }\n            }\n          )\n\n          prev.push( <div key={ index }> {accountComponent} </div> )\n\n          return prev\n        },\n        []\n      )\n    }\n\n    const style = {\n      gray: {\n        color: '#565555'\n      }\n    }\n\n    return (\n      <Card\n        style={{\n          paddingBottom: 20,\n        }}\n      >\n        <CardHeader\n          title={ <span><ShowChart /> Results manager </span> }\n          subtitle=\"Results manager\"\n        />\n        <CardHeader\n          title={ <span><LocalAtm /> Results manager </span> }\n        />\n        { accountsMonetary }\n      </Card>\n    )\n  }\n}\n\nexport default ResultsManager\n"],"sourceRoot":"/source/"}