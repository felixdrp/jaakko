{"version":3,"sources":["components/survey/math-challenge.js"],"names":["getNumbers","N","M","results","i","numbers","sum","j","number","Math","round","random","push","formatNumbers","numberArray","result","n","slice","length","instructions","MathChallenge","props","tick","setState","elapsed","Date","state","startt","text","addTodo","timer","setInterval","clearInterval","title","message","seconds","toFixed","textColor","context","muiTheme","palette","padding","margin","minWidth","fontSize","color","paddingTop","split","map","item","marginBottom","alert","q","paddingLeft","marginRight","backgroundColor","contextTypes","PropTypes","object","isRequired","router","websocket","propTypes","mapStateToProps","firstName","account"],"mappings":"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","file":"components/survey/math-challenge.js","sourcesContent":["import React, { PropTypes, Component } from 'react'\n\n\nimport {Card, CardActions, CardHeader, CardMedia, CardTitle, CardText} from 'material-ui/Card';\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Timer from './timer'\n\n\nimport { connect } from 'react-redux'\n\nimport Wait from './wait'\n\n/**\n* N number of math questions with M numbers. (all additions, and solution included)\n*\n*/\nfunction getNumbers(N,M){\n  var results = [];\n  for (var i = 0; i < N; i++ ){\n    var numbers = [];\n    var sum = 0;\n    for (var j = 0; j < M; j++ ){\n      var number = Math.round((Math.random()*100)+1);\n      sum += number;\n      numbers.push(number);\n    }\n    results.push({numbers : numbers , sum : sum });\n  }\n  return results;\n}\n\nfunction formatNumbers(numberArray){\n  var result = '';\n  for( var n in numberArray){\n    result += numberArray[n]+\" + \";\n  }\n  return result.slice(0,result.length-2)+'= ';\n}\n\nvar instructions = 'For this task you will be asked to solve simple addition problems correct. For example you could be asked to solve the following “56+73+5+10+11” you would simply answer is “155” and move onto the next question. There will be multiple problems and you will be asked to solve as many as possible in the 5 minutes given. The number of correct answers will then be calculated and showed to you after the task is over. \\n Your name will appear on a ranking of the group’s performance and your will be ranked from the best performer (person with the most correct answers) to the worst performer (person with the least amount of correct answers). The exact score of the participant in your group will not be shown. \\n In this task your pay will depend on your performance relative to the other members in the group. The pay structure will be as shown below. \\n The task will have a series of addition problems like the ones below. You will be asked to solve as many as you can in the 5 minutes. Only correct answers will be counted toward your score.';\n\nclass MathChallenge extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {elapsed:0, startt: new Date(), numbers: getNumbers(30,5) };\n\n  }\n\n  static contextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n    router: React.PropTypes.object.isRequired,\n    websocket: React.PropTypes.object,\n  };\n\n\n\n  handleSave(text) {\n    if (text.length !== 0) {\n      this.props.addTodo(text)\n    }\n  }\n\n  componentDidMount(){\n\n      // componentDidMount is called by react when the component\n      // has been rendered on the page. We can set the interval here:\n      this.setState({timer : setInterval(this.tick, 50)});\n  }\n\n  componentWillUnmount(){\n\n      // This method is called immediately before the component is removed\n      // from the page and destroyed. We can clear the interval here:\n      // this.state.elapsed = new Date() - this.start);\n      clearInterval(this.state.timer);\n  }\n\n  tick = () => {\n\n        // This function is called every 50 ms. It updates the\n        // elapsed counter. Calling setState causes the component to be re-rendered\n\n        this.setState({elapsed : new Date() - this.state.startt});\n  }\n\n  render() {\n    let props = this.props;\n\n    let title = this.props.message ? this.props.message : 'Math Challenge'\n    let elapsed = Math.round(this.state.elapsed / 100)\n    let seconds = (elapsed / 10).toFixed(1)\n\n    const { textColor } = this.context.muiTheme.palette;\n\n    return (\n      <div>\n      <Card\n        style={{\n          padding: 30,\n          margin: '2% 10% 10%',\n          minWidth: 700,\n        }}\n      >\n        <CardHeader\n          title={title}\n          titleStyle={{\n            fontSize: 24,\n            color: textColor,\n          }}\n        />\n        <CardText\n          style={{\n            paddingTop: 0,\n          }}\n          >\n          {\n            instructions.split('\\n').map( (item,i) => <div key={i} style={{marginBottom:20}}>{item}</div>)\n          }\n          <br />\n            <Timer timerCallback={() => {alert('boom')}}></Timer>\n            <div>\n            {\n                this.state.numbers.map( (q,i) => <div key={i}>{formatNumbers(q.numbers)}\n                                          <TextField id={'math_'+i} style={{\n                                              paddingLeft: 10,\n                                              marginRight: 20,\n                                              }} />\n                                      </div> )\n            }\n            </div>\n          <br />\n\n          <RaisedButton\n            id=\"submitAnswers\"\n            style={{backgroundColor: 'grey',}}\n            type=\"submit\"\n\n          >\n            Submit\n          </RaisedButton>\n\n        </CardText>\n\n      </Card>\n\n      </div>\n    )\n  }\n}\n\nMathChallenge.propTypes = {\n\n  // addTodo: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    firstName : state.account.firstName\n  }\n}\n\nexport default connect(mapStateToProps)(MathChallenge)\n"],"sourceRoot":"/source/"}