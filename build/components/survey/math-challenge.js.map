{"version":3,"sources":["components/survey/math-challenge.js"],"names":["getNumbers","N","M","results","i","numbers","sum","j","number","Math","round","random","push","solution","undefined","timeSubmitted","formatNumbers","numberArray","result","n","slice","length","instructions","MathChallenge","props","gatherData","setState","isSubmitted","submit","state","text","favourites","addTodo","clearInterval","timer","event","index","value","id","split","Date","now","title","message","elapsed","seconds","toFixed","textColor","context","muiTheme","palette","padding","margin","minWidth","fontSize","color","paddingTop","map","item","marginBottom","q","paddingLeft","marginRight","handleChange","contextTypes","PropTypes","object","isRequired","router","websocket","propTypes","mapStateToProps","firstName","account"],"mappings":"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","file":"math-challenge.js","sourcesContent":["import React, { PropTypes, Component } from 'react'\n\n\nimport {Card, CardActions, CardHeader, CardMedia, CardTitle, CardText} from 'material-ui/Card';\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Timer from './timer'\n\n\nimport { connect } from 'react-redux'\n\nimport Wait from './wait'\n\n/**\n* N number of math questions with M numbers. (all additions, and solution included)\n*\n*/\nfunction getNumbers(N,M){\n  var results = [];\n  for (var i = 0; i < N; i++ ){\n    var numbers = [];\n    var sum = 0;\n    for (var j = 0; j < M; j++ ){\n      var number = Math.round((Math.random()*15)+1);\n      sum += number;\n      numbers.push(number);\n    }\n    results.push({numbers : numbers , sum : sum, solution: undefined, timeSubmitted: undefined });\n  }\n  return results;\n}\n\nfunction formatNumbers(numberArray){\n  var result = '';\n  for( var n in numberArray){\n    result += numberArray[n]+\" + \";\n  }\n  return result.slice(0,result.length-2)+'= ';\n}\n\nvar instructions = 'Solve as many math problems as you can in 7 minutes';\n\nclass MathChallenge extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { numbers: getNumbers(30,5),\n     };\n\n  }\n\n  static contextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n    router: React.PropTypes.object.isRequired,\n    websocket: React.PropTypes.object,\n  };\n\n\n\n  handleSave(text) {favourites\n    if (text.length !== 0) {\n      this.props.addTodo(text)\n    }\n  }\n\n  componentDidMount(){\n\n      // componentDidMount is called by react when the component\n      // has been rendered on the page. We can set the interval here:\n\n  }\n\n  componentWillUnmount(){\n\n      // This method is called immediately before the component is removed\n      // from the page and destroyed. We can clear the interval here:\n      // this.state.elapsed = new Date() - this.start);\n      clearInterval(this.state.timer);\n  }\n\n  handleChange(event, index, value, id) {\n    var numbers = this.state.numbers.slice();\n    var index = id.split(\"_\")[1];\n    numbers[index].solution = value;\n    numbers[index].timeSubmitted = Date.now();\n    this.setState({numbers})\n  }\n\n\n\n  gatherData = () => {\n    //console.log( JSON.stringify(this.state) );\n    this.setState({isSubmitted : true});\n    // debugger\n    this.props.submit(this.state);\n  }\n\n  render() {\n    let props = this.props;\n\n    let title = this.props.message ? this.props.message : 'Math Challenge'\n    let elapsed = Math.round(this.state.elapsed / 100)\n    let seconds = (elapsed / 10).toFixed(1)\n\n    const { textColor } = this.context.muiTheme.palette;\n\n    if ( this.state.isSubmitted ) {\n\n      return ( <Wait/>)\n\n    }\n\n    return (\n      <div>\n      <Card\n        style={{\n          padding: 30,\n          margin: '2% 10% 10%',\n          minWidth: 700,\n        }}\n      >\n        <CardHeader\n          title={title}\n          titleStyle={{\n            fontSize: 24,\n            color: textColor,\n          }}\n        />\n        <CardText\n          style={{\n            paddingTop: 0,\n          }}\n          >\n          {\n            instructions.split('\\n').map( (item,i) => <div key={i} style={{marginBottom:20}}>{item}</div>)\n          }\n          <br />\n          <Timer\n            limitTime={20}\n            timerCallback={ () => this.gatherData() }\n          ></Timer>\n            <div>\n            {\n                this.state.numbers.map( (q,i) => <div key={i}>{formatNumbers(q.numbers)}\n                                          <TextField id={'math_'+i} style={{\n                                              paddingLeft: 10,\n                                              marginRight: 20,\n                                              }}\n                                              onChange={ (event, index, value) => this.handleChange(event, value, index, 'math_'+i)}\n                                              />\n                                      </div> )\n            }\n            </div>\n          <br />\n\n\n        </CardText>\n\n      </Card>\n\n      </div>\n    )\n  }\n}\n\nMathChallenge.propTypes = {\n\n  // addTodo: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    firstName : state.account.firstName\n  }\n}\n\nexport default connect(mapStateToProps)(MathChallenge)\n"]}