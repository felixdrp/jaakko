{"version":3,"sources":["components/survey/favourites.js"],"names":["Favourites","props","rater","index","rating","data","state","favourites","f","undefined","currentRating","setState","gatherData","console","log","alerthing","alert","group","groupType","id","title","description","creator","timeSubmitted","similarTo","similarityHide","Array","text","length","addTodo","textColor","context","muiTheme","palette","raters","lenght","padding","margin","minWidth","fontSize","color","paddingTop","split","map","item","i","marginBottom","submit","entry","display","fontWeight","width","contextTypes","PropTypes","object","isRequired","router","websocket","propTypes","mapStateToProps","firstName","account"],"mappings":"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","file":"components/survey/favourites.js","sourcesContent":["import React, { PropTypes, Component } from 'react'\n\n\nimport {Card, CardActions, CardHeader, CardMedia, CardTitle, CardText} from 'material-ui/Card';\n\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport Slider from 'material-ui/Slider';\nimport {RadioButton, RadioButtonGroup} from 'material-ui/RadioButton';\nimport processSimilarities from '../../modules/similarity'\n\nimport { connect } from 'react-redux'\n\nimport Timer from './timer'\n\nimport Wait from './wait'\nimport Rater from './rater'\n\nimport {\n ActionShop,\n ActionShoppingBasket,\n ActionSpeakerNotesOff,\n ActionSpeakerNotes,\n ActionSpellcheck,\n ActionStars,\n ActionStore,\n} from 'material-ui/svg-icons';\n\n\nclass Favourites extends Component {\n\n  constructor(props) {\n    super(props);\n     this.state = {};\n  }\n\n  static contextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n    router: React.PropTypes.object.isRequired,\n    websocket: React.PropTypes.object,\n  };\n\n\n  componentWillMount() {\n    var data = [\n      { group: 1474585598573,\n       groupType: 0,\n       id: '1',\n       title: 'gfdgdfs',\n       description: 'gfdgfds',\n       creator: 'rpsoft@gmail.com',\n       rating: [],\n       timeSubmitted: 10,\n       similarTo: ['2','7'],\n       similarityHide : false,\n     },\n     { group: 1474585598573,\n       groupType: 0,\n       id: '2',\n       title: '432432',\n       description: 'gfdsgfds',\n       creator: 'rpsoft@gmail.com',\n       rating: [],\n       timeSubmitted: 100,\n       similarTo: ['1','3'],\n       similarityHide : false,\n     },\n     { group: 1474585598573,\n       groupType: 0,\n       id: '3',\n       title: '543gfdgfds63',\n       description: 'hgdfsdf4',\n       creator: 'rpsoft@gmail.com',\n       rating: [],\n       timeSubmitted: 50,\n       similarTo: ['2'],\n       similarityHide : false,\n     },\n     { group: 1474585598573,\n        groupType: 0,\n        id: '1',\n        title: 'gfdgdfs',\n        description: 'gfdgfds',\n        creator: 'rpsoft@gmail.com',\n        rating: [],\n        timeSubmitted: 10,\n        similarTo: ['2'],\n        similarityHide : false,\n      },\n      { group: 1474585598573,\n        groupType: 0,\n        id: '2',\n        title: '432432',\n        description: 'gfdsgfds',\n        creator: 'rpsoft@gmail.com',\n        rating: [],\n        timeSubmitted: 100,\n        similarTo: ['1','3'],\n        similarityHide : false,\n       },\n      { group: 1474585598573,\n        groupType: 0,\n        id: '3',\n        title: '543gfdgfds63',\n        description: 'hgdfsdf4',\n        creator: 'rpsoft@gmail.com',\n        rating: [],\n        timeSubmitted: 50,\n        similarTo: ['2'],\n        similarityHide : false,\n      },\n      { group: 1474585598573,\n        groupType: 0,\n        id: '7',\n        title: 'erhrhgf',\n        description: 'hgfhgffhdg',\n        creator: 'rpsoft@gmail.com',\n        rating: [],\n        timeSubmitted: 1474585612141,\n        similarTo: ['1'],\n        similarityHide : false,\n      },\n     { group: 1474585598573,\n       groupType: 0,\n       id: '4',\n       title: 'erhrhgf',\n       description: 'hgfhgffhdg',\n       creator: 'rpsoft@gmail.com',\n       rating: [],\n       timeSubmitted: 1474585612141,\n       similarTo: [],\n       similarityHide : false,\n     },\n     { group: 1474585598573,\n       groupType: 0,\n       id: '5',\n       title: '654546',\n       description: 'hghgfhgfds',\n       creator: 'rpsoft@gmail.com',\n       rating: [],\n       timeSubmitted: 200,\n       similarTo: ['6'],\n       similarityHide : false,\n     },\n     { group: 1474585598573,\n       groupType: 0,\n       id: '6',\n       title: 'hgfghf',\n       description: 'gfdfgds',\n       creator: 'rpsoft@gmail.com',\n       rating: [],\n       timeSubmitted: 600,\n       similarTo: ['5'],\n       similarityHide : false, },\n\n    { group: 1474585598573,\n         groupType: 0,\n         id: '10',\n         title: 'hgfghf',\n         description: 'gfdfgds',\n         creator: 'rpsoft@gmail.com',\n         rating: [],\n         timeSubmitted: 600,\n         similarTo: [],\n         similarityHide : false, },\n     { group: 1474585598573,\n          groupType: 0,\n          id: '10',\n          title: 'hgfghf',\n          description: 'gfdfgds',\n          creator: 'rpsoft@gmail.com',\n          rating: [],\n          timeSubmitted: 600,\n          similarTo: [],\n          similarityHide : false, },\n      { group: 1474585598573,\n           groupType: 0,\n           id: '10',\n           title: 'hgfghf',\n           description: 'gfdfgds',\n           creator: 'rpsoft@gmail.com',\n           rating: [],\n           timeSubmitted: 600,\n           similarTo: [],\n           similarityHide : false, },\n       { group: 1474585598573,\n            groupType: 0,\n            id: '10',\n            title: 'hgfghf',\n            description: 'gfdfgds',\n            creator: 'rpsoft@gmail.com',\n            rating: [],\n            timeSubmitted: 600,\n            similarTo: [],\n            similarityHide : false, }, ];\n\n      this.setState({data});\n\n      // var data = processSimilarities(data);\n      //\n      // console.log(\"finiquitao: \"+JSON.stringify(data));\n\n      this.setState({favourites : new Array(6)})\n\n    }\n\n\n  handleSave(text) {\n    if (text.length !== 0) {\n      this.props.addTodo(text)\n    }\n  }\n\n  rater = (index,rating) => {\n    var data = this.state.data;\n    var favourites = this.state.favourites;\n\n    if ( rating == -1 ){\n      for ( var f in favourites){\n        if (favourites[f] == index ){\n          favourites[f] = undefined;\n          this.currentRating = 0;\n          data[index].rating = 0;\n\n        }\n      }\n    } else {\n      if ( favourites[rating] == undefined ){\n      //  debugger\n        for ( var f in favourites){\n          if (favourites[f] == index ){\n            favourites[f] = undefined;\n            this.currentRating = 0;\n            data[index].rating = 0;\n\n          }\n        }\n        data[index].rating = rating;\n        this.currentRating = rating;\n        favourites[rating] = index;\n      }\n    }\n\n    this.setState({data: data});\n    this.setState({favourites: favourites});\n\n  }\n\n  gatherData = () => {\n\n    console.log(JSON.stringify(this.state));\n    return this.state\n\n  }\n\n  alerthing = () => {\n    alert('boom');\n  }\n\n  render() {\n\n    const { textColor } = this.context.muiTheme.palette;\n\n    let title = 'Favourites task';\n    let text = 'Rate the following works, and show which ones are your favourites:';\n\n    let data = this.state.data;\n    let raters = new Array(data.lenght);\n\n    return (\n      <div>\n      {\n        // <h1>{message}</h1>\n        // <Wait melacome={<ActionShop />} /><ActionStore /> <ActionShop />\n        // <div> {this.props.firstName} {v} {this.mlk()}</div>\n      }\n\n\n\n          <Card\n            style={{\n              padding: 30,\n              margin: '2% 15% 15%',\n              minWidth: 900,\n            }}\n          >\n            <CardHeader\n              title={title}\n              titleStyle={{\n                fontSize: 24,\n                color: textColor,\n              }}\n            />\n            <CardText\n              style={{\n                paddingTop: 0,\n              }}\n              >\n\n              {text.split('\\n').map( (item,i) => <div key={i} style={{marginBottom:10}}>{item}</div>)}\n            </CardText>\n\n\n            <br />\n            <Timer timerCallback={() => this.props.submit( this.gatherData() )}></Timer>\n\n            {\n              data.map( (entry,i) => {\n                return <div key={i} style={{padding:5,display:'flex'}}>\n\n                              <Card style={{paddingTop: '0%',fontWeight: 800,}}>\n                                <CardText style={{padding:8}}>\n                                  {i+'.'}\n                                </CardText>\n                              </Card>\n\n                              <Card style={{width:460}}>\n                                <CardHeader style={{padding:8}}>\n                                  {entry.title}\n                                </CardHeader>\n                                <CardText style={{padding:8}}>\n                                  {entry.description}\n                                </CardText>\n                              </Card>\n\n                              <Card>\n                                  <CardText style={{padding:20}}>\n                                    <Rater entryIndex={i} raterCallback={this.rater} currentRating={entry.rating}/>\n                                  </CardText>\n                              </Card>\n\n                      </div>\n              } )\n            }\n\n\n          </Card>\n\n      </div>\n    )\n  }\n}\n\nFavourites.propTypes = {\n  // addTodo: PropTypes.func.isRequired\n}\n\n//export default Question\n\nconst mapStateToProps = (state) => {\n  return {\n    firstName : state.account.firstName\n  }\n}\n\nexport default connect(mapStateToProps)(Favourites)\n"],"sourceRoot":"/source/"}