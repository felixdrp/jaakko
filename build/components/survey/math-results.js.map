{"version":3,"sources":["components/survey/math-results.js"],"names":["currentUserEmail","MathResults","props","getParticipantLine","participant","i","participantLine","display","minWidth","paddingTop","fontSize","textAlign","rank","account","firstname","surname","mathScore","state","groupType","pay","email","gatherData","isSubmitted","submit","accounts","data","nextProps","console","log","setState","mathResults","text","length","addTodo","textColor","context","muiTheme","palette","title","padding","margin","color","map","marginTop","contextTypes","PropTypes","object","isRequired","router","websocket","propTypes","mapStateToProps","task","payload"],"mappings":"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","file":"math-results.js","sourcesContent":["import React, { PropTypes, Component } from 'react'\n\n\nimport {Card, CardActions, CardHeader, CardMedia, CardTitle, CardText} from 'material-ui/Card';\n\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport Slider from 'material-ui/Slider';\nimport {RadioButton, RadioButtonGroup} from 'material-ui/RadioButton';\n\nimport processMathResults from '../../modules/mathComputations'\n\n\nimport { connect } from 'react-redux'\n\nimport Wait from './wait'\n\nimport {\n ActionShop,\n ActionShoppingBasket,\n ActionSpeakerNotesOff,\n ActionSpeakerNotes,\n ActionSpellcheck,\n ActionStars,\n ActionStore,\n ToggleStar,\n ToggleStarBorder,\n} from 'material-ui/svg-icons';\n\n\nvar currentUserEmail = 'melacome3@gmail.com'; // need to set the current user email here for the attribution variable. (type 0 and 2)\n\nclass MathResults extends Component {\n\n  constructor(props) {\n    super(props);\n    this.isSubmitted = false;\n     this.state = {\n       groupType: -1,\n       currentUserEmail : \"\",\n       accounts : [],\n       data : []\n     };\n  }\n\n  static contextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n    router: React.PropTypes.object.isRequired,\n    websocket: React.PropTypes.object,\n  };\n\n  componentWillReceiveProps(nextProps) {\n    console.log(\"nextProps vienen pa ca\")\n    console.log(nextProps)\n    this.setState({\n      groupType: nextProps.groupType,\n      currentUserEmail : nextProps.account.email,\n      accounts : nextProps.accounts,\n      data : processMathResults(nextProps.mathResults, nextProps.accounts) || []\n    });\n\n  }\n\n// componentWillMount(){\n//\n//   var data2 = [\n//     {\"accountId\":\"felixdrp@gmail.com\",\"startTimestamp\":1474741488092,\"endTimestamp\":1474741508190,\"surveyData\":{\"numbers\":[{\"numbers\":[30,45,5,93,77],\"sum\":250,\"solution\":\"250  \",\"timeSubmitted\":1474741493550},{\"numbers\":[99,2,61,18,66],\"sum\":246,\"solution\":\"3455\",\"timeSubmitted\":1474741495764},{\"numbers\":[43,72,54,49,84],\"sum\":302},{\"numbers\":[12,81,48,47,36],\"sum\":224},{\"numbers\":[28,64,7,4,3],\"sum\":106},{\"numbers\":[50,82,43,53,47],\"sum\":275},{\"numbers\":[75,6,50,28,8],\"sum\":167},{\"numbers\":[71,64,3,6,19],\"sum\":163},{\"numbers\":[24,65,60,31,83],\"sum\":263},{\"numbers\":[88,73,65,55,48],\"sum\":329},{\"numbers\":[39,72,94,8,24],\"sum\":237},{\"numbers\":[23,5,64,61,6],\"sum\":159},{\"numbers\":[39,2,19,54,74],\"sum\":188},{\"numbers\":[27,82,68,89,39],\"sum\":305},{\"numbers\":[3,33,90,68,31],\"sum\":225},{\"numbers\":[11,27,83,4,60],\"sum\":185},{\"numbers\":[62,49,85,72,92],\"sum\":360},{\"numbers\":[94,89,74,68,6],\"sum\":331},{\"numbers\":[56,20,76,18,68],\"sum\":238},{\"numbers\":[13,1,81,83,47],\"sum\":225},{\"numbers\":[37,23,33,21,69],\"sum\":183},{\"numbers\":[98,98,37,12,40],\"sum\":285},{\"numbers\":[75,73,31,90,16],\"sum\":285},{\"numbers\":[2,26,63,72,45],\"sum\":208},{\"numbers\":[33,73,52,61,10],\"sum\":229},{\"numbers\":[17,34,22,6,81],\"sum\":160},{\"numbers\":[46,99,67,94,58],\"sum\":364},{\"numbers\":[67,11,16,4,6],\"sum\":104},{\"numbers\":[27,48,73,32,5],\"sum\":185},{\"numbers\":[45,44,98,84,72],\"sum\":343}]},\"surveyId\":39},\n//     {\"accountId\":\"rpsoft@gmail.com\",\"startTimestamp\":1474741488475,\"endTimestamp\":1474741508627,\"surveyData\":{\"numbers\":[{\"numbers\":[85,51,84,75,60],\"sum\":355,\"solution\":355,\"timeSubmitted\":1474741498819},{\"numbers\":[39,37,51,2,93],\"sum\":222,\"solution\":\"y498yy98\",\"timeSubmitted\":1474741493779},{\"numbers\":[6,63,42,70,45],\"sum\":226,\"solution\":\"226\",\"timeSubmitted\":1474741494300},{\"numbers\":[74,37,83,28,80],\"sum\":302,\"solution\":\"kkl\",\"timeSubmitted\":1474741494549},{\"numbers\":[57,52,89,19,78],\"sum\":295,\"solution\":\"kjl\",\"timeSubmitted\":1474741494809},{\"numbers\":[24,12,18,4,72],\"sum\":130,\"solution\":\"kjl\",\"timeSubmitted\":1474741495010},{\"numbers\":[55,87,80,91,51],\"sum\":364,\"solution\":\"klj\",\"timeSubmitted\":1474741495198},{\"numbers\":[30,87,65,65,16],\"sum\":263,\"solution\":\"kl\",\"timeSubmitted\":1474741495301},{\"numbers\":[59,40,63,40,2],\"sum\":204,\"solution\":\"jl\",\"timeSubmitted\":1474741495448},{\"numbers\":[68,34,52,94,99],\"sum\":347,\"solution\":\"ggj\",\"timeSubmitted\":1474741495624},{\"numbers\":[20,70,2,6,29],\"sum\":127,\"solution\":\"k\",\"timeSubmitted\":1474741495675},{\"numbers\":[87,40,26,54,69],\"sum\":276,\"solution\":\"ghk\",\"timeSubmitted\":1474741495823},{\"numbers\":[38,25,96,34,16],\"sum\":209,\"solution\":\"gkh\",\"timeSubmitted\":1474741495977},{\"numbers\":[47,67,49,78,83],\"sum\":324,\"solution\":\"gkj\",\"timeSubmitted\":1474741496130},{\"numbers\":[80,87,100,93,67],\"sum\":427,\"solution\":\"jgk\",\"timeSubmitted\":1474741496279},{\"numbers\":[38,31,92,42,21],\"sum\":224,\"solution\":\"j\",\"timeSubmitted\":1474741496353},{\"numbers\":[61,34,10,31,26],\"sum\":162,\"solution\":\"j\",\"timeSubmitted\":1474741496508},{\"numbers\":[96,44,33,41,10],\"sum\":224,\"solution\":\"kgj\",\"timeSubmitted\":1474741496754},{\"numbers\":[36,65,50,17,66],\"sum\":234,\"solution\":\"gjk\",\"timeSubmitted\":1474741496901},{\"numbers\":[87,7,24,42,92],\"sum\":252,\"solution\":\"kjg\",\"timeSubmitted\":1474741497049},{\"numbers\":[97,66,9,7,1],\"sum\":180,\"solution\":\"kj\",\"timeSubmitted\":1474741497151},{\"numbers\":[7,99,43,40,1],\"sum\":190,\"solution\":\"jk\",\"timeSubmitted\":1474741497294},{\"numbers\":[5,95,64,79,71],\"sum\":314,\"solution\":\"gkj\",\"timeSubmitted\":1474741497489},{\"numbers\":[7,35,80,84,66],\"sum\":272,\"solution\":\"jbk\",\"timeSubmitted\":1474741497646},{\"numbers\":[30,6,60,22,9],\"sum\":127,\"solution\":\"j\",\"timeSubmitted\":1474741497704},{\"numbers\":[11,37,11,41,76],\"sum\":176,\"solution\":\"jk\",\"timeSubmitted\":1474741497891},{\"numbers\":[98,91,55,33,89],\"sum\":366,\"solution\":\"jk\",\"timeSubmitted\":1474741498040},{\"numbers\":[36,41,26,86,54],\"sum\":243,\"solution\":\"jl\",\"timeSubmitted\":1474741498218},{\"numbers\":[67,77,39,4,21],\"sum\":208,\"solution\":\"lh\",\"timeSubmitted\":1474741498363},{\"numbers\":[40,86,75,61,36],\"sum\":298}]},\"surveyId\":39}\n//   ]\n//   var accounts = { list: [ 'rpsoft@gmail.com', 'felixdrp@gmail.com' ],\n//     'rpsoft@gmail.com':\n//      { email: 'rpsoft@gmail.com',\n//        firstName: 'suso',\n//        surname: 'rodriguez',\n//        token: '44e192de26457248f81c6609d2ecfc49',\n//        group: 1474740410598,\n//        surveyPointer: 9 },\n//     'felixdrp@gmail.com':\n//      { email: 'felixdrp@gmail.com',\n//        firstName: 'Felix',\n//        surname: 'RP',\n//        token: 'fc6bf88664ba58fd1f461cb1e4314a82',\n//        group: 1474740410589,\n//        surveyPointer: 9 } };\n//\n//      this.setState({\n//        groupType: 0,\n//        currentUserEmail : 'rpsoft@gmail.com',\n//        accounts : accounts,\n//        data : processMathResults(data2, accounts) || []\n//      });\n//\n// }\n//\n\n\n  handleSave(text) {\n    if (text.length !== 0) {\n      this.props.addTodo(text)\n    }\n  }\n\n  getParticipantLine = (participant,i) => {\n    var participantLine = <div key={i} style={{display:'flex',}}>\n                  <Card style={{minWidth:72, paddingTop: 10,}}><CardText style={{fontSize:'large',textAlign:'center'}}>{participant.rank}</CardText></Card>\n                  <Card style={{minWidth:300, paddingTop: 10,}}><CardText style={{fontSize:16}}>{participant.account.firstname +' '+ participant.account.surname} </CardText></Card>\n                  <Card style={{minWidth:77, paddingTop: 10,}}><CardText style={{fontSize:'large',textAlign:'center'}}>{participant.mathScore}</CardText></Card>\n                  { (this.state.groupType > 1) ? <Card style={{minWidth:75, paddingTop: 10,}}><CardText style={{fontSize:'large',textAlign:'center'}}>£{participant.pay}</CardText></Card> : '' }\n           </div>\n\n    if ( this.state.groupType == 0 || this.state.groupType == 2 ){\n      if ( this.state.currentUserEmail == participant.account.email ){\n        return participantLine;\n      }\n    }else {\n\n        return participantLine;\n\n    }\n\n  }\n\n  gatherData = () => {\n    if ( !this.isSubmitted ){\n      this.props.submit( this.state )\n      this.isSubmitted = true;\n    }\n  }\n\n//'_marker'\n  render() {\n\n    const { textColor } = this.context.muiTheme.palette;\n\n    let title = 'Math Results Summary';\n    let text = 'Here you can see you performance with respect to ther other participants within your group:';\n    let data = this.state.data;\n\n    return (\n      <div>\n      {\n        // <h1>{message}</h1>\n        // <Wait melacome={<ActionShop />} /><ActionStore /> <ActionShop />\n        // <div> {this.props.firstName} {v} {this.mlk()}</div>\n\n      }\n\n\n          <Card\n            style={{\n              padding: 30,\n              margin: '2% 15% 15%',\n              minWidth: 900,\n            }}\n          >\n            <CardHeader\n              title={title}\n              titleStyle={{\n                fontSize: 24,\n                color: textColor,\n              }}\n            />\n            <CardText style={{ paddingTop: 0, }} >\n\n              {text}\n              <br/><br/>\n              <div style={{display:'flex',textAlign:'center'}}>\n                  <Card ><CardText style={{fontSize:'large'}}>Rank</CardText></Card>\n                  <Card style={{minWidth:300}}><CardText style={{fontSize:'large'}}>Participant</CardText></Card>\n                  <Card><CardText style={{fontSize:'large'}}>Score</CardText></Card>\n                  { (this.state.groupType > 1) ? <Card style={{minWidth:75}}><CardText style={{fontSize:'large'}}>Pay</CardText></Card> : ''}\n              </div>\n\n                {\n\n                  data.map( (participant,i) => {\n\n                        return this.getParticipantLine(participant,i)\n\n                  })\n\n\n                }\n\n                <RaisedButton\n                  id=\"submitAnswers\"\n                  style={{color: 'rgb(124, 234, 127)',marginTop: 20, textAlign:'center'}}\n                  type=\"submit\"\n                  onClick= { this.gatherData }\n                >\n                  Continue\n                </RaisedButton>\n\n            </CardText>\n\n          </Card>\n\n      </div>\n    )\n  }\n}\n\nMathResults.propTypes = {\n  // addTodo: PropTypes.func.isRequired\n}\n\n//export default Question\n\nconst mapStateToProps = (state) => {\n  return {\n    account : state.account,\n    accounts : state.task.payload.accounts,\n    groupType : state.task.payload.groupType,\n    mathResults: (state.task.payload) ? state.task.payload.mathResults: [],\n  }\n}\n\nexport default connect(mapStateToProps)(MathResults)\n"]}