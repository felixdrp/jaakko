{"version":3,"sources":["components/account/signin.js"],"names":["AccountSignIn","state","email","error","name","password","_input","nextProps","loginStatus","field","setState","e","preventDefault","input","getValue","context","websocket","send","textColor","muiTheme","palette","spaceInterElements","style","input1","hintStyle","color","floatingLabelFocus","underline","borderColor","button1","backgroundColor","width","button2","buttonLoginBranded","padding","fontSize","paddingTop","marginLeft","spellCheck","c","login","bind","Component","propTypes","PropTypes","object","contextTypes","isRequired","mapStateToProps","account"],"mappings":"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","file":"signin.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux'\n\nimport { Link } from 'react-router'\n// import ReactMixin from 'react-mixin';\n// import Auth from '../services/AuthService'\nimport {Card, CardActions, CardHeader, CardMedia, CardTitle, CardText} from 'material-ui/Card';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\nimport ButtonLoginWithTwitter from './buttonLoginWithTwitter';\nimport ButtonLoginWithFacebook from './buttonLoginWithFacebook';\nimport ButtonLoginWithLinkedin from './buttonLoginWithLinkedin';\n\nimport {\n  loginAccount,\n} from '../../websocket-message/server-actions'\n\nclass AccountSignIn extends React.Component {\n  static propTypes = {\n    loginStatus: React.PropTypes.object,\n  };\n\n  static contextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n    websocket: React.PropTypes.object,\n  };\n\n  constructor() {\n    super()\n    this.state = {\n      email: { error: '', name: 'Email' },\n      password: { error: '', name: 'Password' },\n      // userError: '',\n      // emailError: '',\n      // passwordError: '',\n    };\n\n    // Used to store references.\n    this._input = {};\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // Check if it was an error.\n    // Then pass the error from props to state.\n    if (nextProps.loginStatus) {\n      for (let field in nextProps.loginStatus) {\n        this.setState({\n          [field]: {\n            ...this.state[field],\n            error: nextProps.loginStatus[field]\n          }\n        })\n      }\n    }\n  }\n\n  async login(e) {\n    e.preventDefault();\n    const input = this._input;\n    const email = input.email.getValue();\n    const password = input.password.getValue();\n    // debugger\n    this.context.websocket.send(\n      loginAccount({\n        email,\n        password,\n      })\n    )\n  }\n\n  render() {\n    const { textColor } = this.context.muiTheme.palette;\n    const spaceInterElements = 25;\n    const style = {\n      input1: {\n        hintStyle: {\n          color: '#3F51B5',\n        },\n        floatingLabelFocus: {\n          color: '#3F51B5',\n        },\n        underline: {\n          borderColor: 'red',\n        },\n      },\n      button1: {\n        color: 'white',\n        backgroundColor: '#3F51B5',\n        width: 180,\n      },\n      button2: {\n        color: 'white',\n        backgroundColor: '#4CAF50',\n        width: 180,\n      },\n    };\n    const buttonLoginBranded = {\n      width: 180,\n    }\n    const input = this._input;\n\n    return (\n      <Card\n        style={{\n          padding: 30,\n        }}\n      >\n        <CardHeader\n          title=\"Login:\"\n          // title=\"Login to Your Account\"\n          titleStyle={{\n            fontSize: 24,\n            color: textColor,\n          }}\n        />\n        <CardText\n          style={{\n            paddingTop: 0,\n          }}\n        >\n          <form\n            role=\"form\"\n            style={{\n              marginLeft: 30,\n            }}\n            // action=\"https://localhost\"\n            method=\"POST\"\n          >\n            <TextField\n              {...{spellCheck:\"false\"}}\n              id=\"email\"\n              hintText=\"Email\"\n              floatingLabelText=\"Email\"\n              floatingLabelFocusStyle={style.input1.floatingLabelFocus}\n              errorText={this.state.email.error}\n              ref={(c) => input.email = c}\n              onBlur={ () => this.setState({ email: { error: !input.email.getValue()? 'Email empty': ''} }) }\n            />\n            <br />\n            <TextField\n              id=\"password\"\n              hintText=\"Password\"\n              floatingLabelText=\"Password\"\n              type=\"password\"\n              errorText={this.state.password.error}\n              ref={(c) => input.password = c}\n              onBlur={ () => this.setState({ password: { error: !input.password.getValue()? 'Password empty': ''} }) }\n            />\n            <br />\n            <br />\n            <FlatButton\n              id=\"submitLoginAccount\"\n              style={style.button1}\n              type=\"submit\"\n              onClick={this.login.bind(this)}\n            >\n              Submit\n            </FlatButton>\n            <br />\n            <br />\n            <FlatButton\n              style={style.button1}\n              onClick={this.login.bind(this)}\n            >\n              Forgot your password?\n            </FlatButton>\n            <br />\n            <br />\n            <Link\n              to=\"/account/signup\"\n              tabIndex=\"0\"\n            >\n              <FlatButton\n                style={style.button2}\n                rippleColor='#C8E6C9'\n              >\n                Create an account\n              </FlatButton>\n            </Link>\n          </form>\n        </CardText>\n      </Card>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    loginStatus: state.account.loginStatus\n  }\n}\n\nexport default connect(mapStateToProps)(AccountSignIn)\n"]}